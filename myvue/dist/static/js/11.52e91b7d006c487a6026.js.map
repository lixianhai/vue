{"version":3,"sources":["webpack:///src/views/permission/role-permission.vue","webpack:///./src/views/permission/role-permission.vue?e7a2","webpack:///./src/views/permission/role-permission.vue"],"names":["role_permission","data","Edit","this","$t","Delete","dialogVisible","dialogType","editIndex","editRow","role","key","name","description","routes","rolesList","roleName","describe","rules","created","computed","routesData","methods","handleAddRole","handleEdit","_ref","$index","row","handleDelete","_ref2","_this","$confirm","confirmButtonText","cancelButtonText","type","then","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","splice","$message","message","stop","catch","err","console","error","confirmRole","_this2","$refs","validate","valid","resetFields","log","$notify","title","dangerouslyUseHTMLString","arr","push","closeDialog","permission_role_permission","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","click","_v","_s","staticStyle","width","margin-top","border","align","prop","label","scopedSlots","_u","fn","scope","size","$event","visible","update:visible","close","ref","model","label-width","label-position","placeholder","value","callback","$$v","$set","expression","autosize","minRows","maxRows","text-align","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/11.52e91b7d006c487a6026.js","sourcesContent":["<template>\r\n    <div class=\"content-wrap\">\r\n        <el-button type=\"primary\" @click=\"handleAddRole\">{{this.$t('button.newRole')}}</el-button>\r\n\r\n        <el-table :data=\"rolesList\" style=\"width: 100%;margin-top:30px;\" border>\r\n            <el-table-column align=\"center\" prop=\"roleName\" label=\"Role Key\" width=\"220\"></el-table-column>\r\n            <el-table-column align=\"center\" prop=\"roleName\" label=\"Role Name\" width=\"220\"></el-table-column>\r\n            <el-table-column align=\"header-center\" prop=\"describe\" label=\"Description\"></el-table-column>\r\n            <el-table-column align=\"center\" label=\"Operations\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button type=\"primary\" size=\"small\" @click=\"handleEdit(scope)\">{{Edit}}</el-button>\r\n                    <el-button type=\"danger\" size=\"small\" @click=\"handleDelete(scope)\">{{Delete}}</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <el-dialog :visible.sync=\"dialogVisible\" @close=\"closeDialog\" :title=\"dialogType==='edit'?'Edit Role':'New Role'\">\r\n            <el-form :model=\"role\" label-width=\"80px\" ref=\"roleForm\" :rules=\"rules\" label-position=\"left\">\r\n                <el-form-item label=\"Name\" prop=\"name\">\r\n                <el-input v-model=\"role.name\" placeholder=\"Role Name\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"Desc\" prop=\"description\">\r\n                <el-input\r\n                    v-model=\"role.description\"\r\n                    :autosize=\"{ minRows: 2, maxRows: 4}\"\r\n                    type=\"textarea\"\r\n                    placeholder=\"Role Description\"\r\n                />\r\n                </el-form-item>\r\n            </el-form>\r\n            <div style=\"text-align:right;\">\r\n                <el-button type=\"danger\" @click=\"dialogVisible=false\">Cancel</el-button>\r\n                <el-button type=\"primary\" @click=\"confirmRole\">Confirm</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            Edit: this.$t('button.edit'),\r\n            Delete: this.$t('button.delete'),\r\n            dialogVisible: false,\r\n            dialogType: 'new',\r\n            editIndex: -1,\r\n            editRow: {},\r\n            role: {\r\n                key: '',\r\n                name: '',\r\n                description: '',\r\n                routes: []\r\n            },\r\n            rolesList: [\r\n                {\r\n                    roleName: 'admin',\r\n                    describe: 'Super Administrator. Have access to view all pages.'\r\n                },\r\n                {\r\n                    roleName: 'editor',\r\n                    describe: 'Normal Editor. Can see all pages except permission page'\r\n                },\r\n                {\r\n                    roleName: 'visitor',\r\n                    describe: 'Just a visitor. Can only see the home page and the document page'\r\n                }\r\n            ],\r\n            rules: {\r\n                name: [\r\n                    // { required: true, message: 'Please input role name', trigger: 'blur' }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        \r\n    },\r\n    computed: {\r\n        routesData() {\r\n            return this.routes\r\n        }\r\n    },\r\n    methods: {\r\n        handleAddRole() {\r\n            this.dialogVisible = true\r\n            this.role.name = ''\r\n            this.role.description = ''\r\n        },\r\n        handleEdit({ $index, row }) {\r\n            this.dialogType = 'edit'\r\n            this.dialogVisible = true\r\n            this.editIndex = $index\r\n            this.editRow = row\r\n            this.role.name = row.roleName\r\n            this.role.description = row.describe\r\n        },\r\n        handleDelete({ $index, row }) {\r\n            this.$confirm('Confirm to remove the role?', 'Warning', {\r\n                confirmButtonText: 'Confirm',\r\n                cancelButtonText: 'Cancel',\r\n                type: 'warning'\r\n            }).then(async() => {\r\n                this.rolesList.splice($index,1)\r\n                this.$message({\r\n                    type: 'success',\r\n                    message: 'Delete succed!'\r\n                })\r\n            }).catch(err => { console.error(err) })\r\n        },\r\n        confirmRole() {\r\n            this.$refs['roleForm'].validate((valid) => {\r\n                if (valid) {\r\n                    if(this.dialogType == 'edit') {\r\n                        if(this.role.description !== '') {\r\n                            this.rolesList[this.editIndex].describe = this.role.description\r\n                        }\r\n                        if(this.role.name !== '') {\r\n                            this.rolesList[this.editIndex].roleName = this.role.name\r\n                        }\r\n                        this.dialogVisible = false\r\n                        this.$refs['roleForm'].resetFields();\r\n                        console.log(this.editRow)\r\n                        this.$notify({\r\n                            title: 'Success',\r\n                            dangerouslyUseHTMLString: true,\r\n                            message: `\r\n                                <div>Role Key: ${this.editRow.roleName}</div>\r\n                                <div>Role Nmae: ${this.editRow.roleName}</div>\r\n                                <div>Description: ${this.editRow.describe}</div>\r\n                            `,\r\n                            type: 'success'\r\n                        })\r\n                    }else {\r\n                        var arr = { roleName:this.role.name,describe:this.role.description }\r\n                        this.rolesList.push(arr)\r\n                        this.dialogVisible = false\r\n                        this.$refs['roleForm'].resetFields()\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        closeDialog() {\r\n            this.$refs['roleForm'].resetFields()\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scope>\r\n.el-textarea__inner {\r\n    display: block;\r\n    resize: vertical;\r\n    padding: 5px 15px;\r\n    line-height: 1.5;\r\n    -webkit-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    font-size: inherit;\r\n    color: #606266;\r\n    background-color: #fff;\r\n    background-image: none;\r\n    border: 1px solid #dcdfe6;\r\n    border-radius: 4px;\r\n    -webkit-transition: border-color .2s cubic-bezier(.645,.045,.355,1);\r\n    transition: border-color .2s cubic-bezier(.645,.045,.355,1);\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/permission/role-permission.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-wrap\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAddRole}},[_vm._v(_vm._s(this.$t('button.newRole')))]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"30px\"},attrs:{\"data\":_vm.rolesList,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"roleName\",\"label\":\"Role Key\",\"width\":\"220\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"roleName\",\"label\":\"Role Name\",\"width\":\"220\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"header-center\",\"prop\":\"describe\",\"label\":\"Description\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"Operations\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleEdit(scope)}}},[_vm._v(_vm._s(_vm.Edit))]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleDelete(scope)}}},[_vm._v(_vm._s(_vm.Delete))])]}}])})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"title\":_vm.dialogType==='edit'?'Edit Role':'New Role'},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"close\":_vm.closeDialog}},[_c('el-form',{ref:\"roleForm\",attrs:{\"model\":_vm.role,\"label-width\":\"80px\",\"rules\":_vm.rules,\"label-position\":\"left\"}},[_c('el-form-item',{attrs:{\"label\":\"Name\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"Role Name\"},model:{value:(_vm.role.name),callback:function ($$v) {_vm.$set(_vm.role, \"name\", $$v)},expression:\"role.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Desc\",\"prop\":\"description\"}},[_c('el-input',{attrs:{\"autosize\":{ minRows: 2, maxRows: 4},\"type\":\"textarea\",\"placeholder\":\"Role Description\"},model:{value:(_vm.role.description),callback:function ($$v) {_vm.$set(_vm.role, \"description\", $$v)},expression:\"role.description\"}})],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){_vm.dialogVisible=false}}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmRole}},[_vm._v(\"Confirm\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9e7a9f74\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/permission/role-permission.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9e7a9f74\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./role-permission.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./role-permission.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./role-permission.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9e7a9f74\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./role-permission.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/permission/role-permission.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}